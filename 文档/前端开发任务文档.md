# å›¾ä¹¦æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ - Blazor Webå‰ç«¯å¼€å‘ä»»åŠ¡æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**ï¼šå›¾ä¹¦æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ Blazorå‰ç«¯  
**å¼€å‘æ—¶é—´**ï¼š2025å¹´11æœˆ  
**æŠ€æœ¯æ ˆ**ï¼šBlazor WebAssembly + C# + MudBlazor UIç»„ä»¶åº“  
**åç«¯æ¥å£**ï¼šASP.NET Core Web APIï¼ˆæˆ–ç›´æ¥é›†æˆï¼‰  

---

## ğŸ¯ é¡¹ç›®ç›®æ ‡

å°†ç°æœ‰çš„å‘½ä»¤è¡Œå›¾ä¹¦æ£€ç´¢ç³»ç»Ÿå‡çº§ä¸º**ç°ä»£åŒ–çš„Webåº”ç”¨**ï¼Œæä¾›ï¼š
- ğŸ¨ ç¾è§‚çš„ç”¨æˆ·ç•Œé¢
- ğŸ’¬ æµç•…çš„å¯¹è¯ä½“éªŒ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ï¼‰
- âš¡ å®æ—¶AIå¯¹è¯
- ğŸ“Š å¯è§†åŒ–çš„å›¾ä¹¦å±•ç¤º

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Blazor WebAssemblyåº”ç”¨ (Port: 5000)       â”‚  â”‚
â”‚  â”‚  - C#ä»£ç åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼ˆWebAssemblyï¼‰        â”‚  â”‚
â”‚  â”‚  - èŠå¤©ç•Œé¢ï¼ˆ.razorç»„ä»¶ï¼‰                     â”‚  â”‚
â”‚  â”‚  - å›¾ä¹¦å±•ç¤ºï¼ˆ.razorç»„ä»¶ï¼‰                     â”‚  â”‚
â”‚  â”‚  - æœç´¢åŠŸèƒ½ï¼ˆ.razorç»„ä»¶ï¼‰                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP APIè°ƒç”¨
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ASP.NET Core Web API (Port: 5000)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - ChatController (å¯¹è¯æ¥å£)                  â”‚  â”‚
â”‚  â”‚  - BookController (å›¾ä¹¦æŸ¥è¯¢æ¥å£)              â”‚  â”‚
â”‚  â”‚  - Semantic Kernel (AIå¤„ç†)                  â”‚  â”‚
â”‚  â”‚  - å¤ç”¨ç°æœ‰çš„Serviceså’ŒPlugins               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SQL Server æ•°æ®åº“                       â”‚
â”‚  - Books (å›¾ä¹¦è¡¨)                                   â”‚
â”‚  - BorrowRecords (å€Ÿé˜…è®°å½•)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± ç•Œé¢è®¾è®¡

### 1. ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š å›¾ä¹¦æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ              ğŸŒ™ ä¸»é¢˜  ğŸ‘¤ ç”¨æˆ·  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ’¬ å¯¹è¯åŒºåŸŸ                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ¤– åŠ©æ‰‹: æ‚¨å¥½ï¼æˆ‘æ˜¯å›¾ä¹¦æ™ºèƒ½æ£€ç´¢åŠ©æ‰‹...  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ‘¤ æ‚¨: å¸®æˆ‘æ‰¾ä¸€ä¸‹æœºå™¨å­¦ä¹ çš„ä¹¦           â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ¤– åŠ©æ‰‹: ä¸ºæ‚¨æ‰¾åˆ°3æœ¬ç›¸å…³å›¾ä¹¦ï¼š          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“– ã€Šæœºå™¨å­¦ä¹ ã€‹- å‘¨å¿—å               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     ğŸ’° 88.00å…ƒ  ğŸ“¦ åº“å­˜: 15æœ¬          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     [æŸ¥çœ‹è¯¦æƒ…] [åŠ å…¥æ”¶è—]              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“– ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹- æèˆª             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     ğŸ’° 68.00å…ƒ  ğŸ“¦ åº“å­˜: 20æœ¬          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     [æŸ¥çœ‹è¯¦æƒ…] [åŠ å…¥æ”¶è—]              â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ’¬ è¾“å…¥æ‚¨çš„é—®é¢˜...              [å‘é€] ğŸ¤   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                    â”‚
â”‚  å¿«æ·æ“ä½œ: [ğŸ“š æ¨èå›¾ä¹¦] [ğŸ” é«˜çº§æœç´¢] [ğŸ“Š ç»Ÿè®¡]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š é¦–é¡µ      â”‚
â”‚  ğŸ” æœç´¢      â”‚
â”‚  â­ æ”¶è—      â”‚
â”‚  ğŸ“Š ç»Ÿè®¡      â”‚
â”‚  ğŸ“– å€Ÿé˜…è®°å½•  â”‚
â”‚  âš™ï¸ è®¾ç½®      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### é…è‰²æ–¹æ¡ˆï¼ˆä½¿ç”¨MudBlazorä¸»é¢˜ï¼‰

#### äº®è‰²ä¸»é¢˜
- **ä¸»è‰²è°ƒ**: MudBlazor Primary (è“è‰²)
- **è¾…åŠ©è‰²**: MudBlazor Secondary (ç´«è‰²)
- **æˆåŠŸè‰²**: MudBlazor Success (ç»¿è‰²)
- **èƒŒæ™¯è‰²**: `#FFFFFF` (ç™½è‰²)
- **æ–‡å­—è‰²**: `#424242` (æ·±ç°)

#### æš—è‰²ä¸»é¢˜
- **ä¸»è‰²è°ƒ**: MudBlazor Primary Dark
- **è¾…åŠ©è‰²**: MudBlazor Secondary Dark
- **èƒŒæ™¯è‰²**: `#1E1E1E` (æ·±ç°)
- **æ–‡å­—è‰²**: `#FFFFFF` (ç™½è‰²)

### å­—ä½“
- **é»˜è®¤**: MudBlazoré»˜è®¤å­—ä½“æ ˆ
- **ä¸­æ–‡**: "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif

### åœ†è§’
- **å°**: 4px
- **ä¸­**: 8px
- **å¤§**: 12px
- **å¡ç‰‡**: 16px

### é˜´å½±
- **å°**: `0 1px 2px rgba(0,0,0,0.05)`
- **ä¸­**: `0 4px 6px rgba(0,0,0,0.1)`
- **å¤§**: `0 10px 15px rgba(0,0,0,0.1)`

---

## ğŸ”§ æŠ€æœ¯æ ˆè¯¦è§£

### Blazorå‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Blazor WebAssembly** | .NET 8.0 | å‰ç«¯æ¡†æ¶ |
| **C#** | 12.0 | ç¼–ç¨‹è¯­è¨€ |
| **MudBlazor** | 7.0+ | UIç»„ä»¶åº“ |
| **HttpClient** | .NET 8.0 | HTTPå®¢æˆ·ç«¯ |
| **System.Text.Json** | 9.0+ | JSONåºåˆ—åŒ– |
| **Blazored.LocalStorage** | 4.5+ | æœ¬åœ°å­˜å‚¨ |

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **ASP.NET Core** | 8.0 | Web APIæ¡†æ¶ |
| **Semantic Kernel** | 1.30+ | AIç¼–æ’ |
| **SignalR** | 8.0 | å®æ—¶é€šä¿¡ |
| **Swagger** | 6.5+ | APIæ–‡æ¡£ |

---

## ğŸ“‚ Blazoré¡¹ç›®ç»“æ„

```
BookSearchSystem.Blazor/         # Blazor WebAssemblyé¡¹ç›®
â”œâ”€â”€ wwwroot/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html              # å…¥å£HTML
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ app.css             # è‡ªå®šä¹‰æ ·å¼
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â””â”€â”€ favicon.ico
â”‚
â”œâ”€â”€ Pages/                       # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Index.razor             # é¦–é¡µ
â”‚   â”œâ”€â”€ Chat.razor              # èŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ Search.razor            # æœç´¢é¡µé¢
â”‚   â”œâ”€â”€ BookDetails.razor       # å›¾ä¹¦è¯¦æƒ…é¡µ
â”‚   â””â”€â”€ Statistics.razor        # ç»Ÿè®¡é¡µé¢
â”‚
â”œâ”€â”€ Shared/                      # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ MainLayout.razor        # ä¸»å¸ƒå±€
â”‚   â”œâ”€â”€ NavMenu.razor           # å¯¼èˆªèœå•
â”‚   â”œâ”€â”€ ChatMessage.razor       # èŠå¤©æ¶ˆæ¯ç»„ä»¶
â”‚   â”œâ”€â”€ BookCard.razor          # å›¾ä¹¦å¡ç‰‡ç»„ä»¶
â”‚   â””â”€â”€ LoadingSpinner.razor    # åŠ è½½åŠ¨ç”»
â”‚
â”œâ”€â”€ Components/                  # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Chat/
â”‚   â”‚   â”œâ”€â”€ ChatInput.razor
â”‚   â”‚   â”œâ”€â”€ ChatHistory.razor
â”‚   â”‚   â””â”€â”€ MessageBubble.razor
â”‚   â”‚
â”‚   â””â”€â”€ Book/
â”‚       â”œâ”€â”€ BookList.razor
â”‚       â”œâ”€â”€ BookGrid.razor
â”‚       â””â”€â”€ BookSearchBar.razor
â”‚
â”œâ”€â”€ Services/                    # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ IChatService.cs
â”‚   â”œâ”€â”€ ChatService.cs
â”‚   â”œâ”€â”€ IBookService.cs
â”‚   â”œâ”€â”€ BookService.cs
â”‚   â””â”€â”€ ApiClient.cs
â”‚
â”œâ”€â”€ Models/                      # æ•°æ®æ¨¡å‹ï¼ˆå¤ç”¨åç«¯ï¼‰
â”‚   â”œâ”€â”€ Book.cs
â”‚   â”œâ”€â”€ ChatMessage.cs
â”‚   â”œâ”€â”€ ChatRequest.cs
â”‚   â””â”€â”€ ChatResponse.cs
â”‚
â”œâ”€â”€ DTOs/                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ BookDto.cs
â”‚   â””â”€â”€ SearchRequest.cs
â”‚
â”œâ”€â”€ Utils/                       # å·¥å…·ç±»
â”‚   â”œâ”€â”€ Constants.cs
â”‚   â””â”€â”€ FormatHelper.cs
â”‚
â”œâ”€â”€ _Imports.razor               # å…¨å±€usingè¯­å¥
â”œâ”€â”€ App.razor                    # æ ¹ç»„ä»¶
â”œâ”€â”€ Program.cs                   # å¯åŠ¨é…ç½®
â””â”€â”€ BookSearchSystem.Blazor.csproj
```

---

## ğŸ“‚ åç«¯é¡¹ç›®ç»“æ„ï¼ˆæ–°å¢ï¼‰

```
BookSearchSystem.WebAPI/         # æ–°å»ºWeb APIé¡¹ç›®
â”œâ”€â”€ Controllers/
â”‚   â”œâ”€â”€ ChatController.cs        # å¯¹è¯æ¥å£
â”‚   â”œâ”€â”€ BookController.cs        # å›¾ä¹¦æŸ¥è¯¢æ¥å£
â”‚   â””â”€â”€ StatisticsController.cs  # ç»Ÿè®¡æ¥å£
â”‚
â”œâ”€â”€ Hubs/
â”‚   â””â”€â”€ ChatHub.cs               # SignalRå®æ—¶é€šä¿¡
â”‚
â”œâ”€â”€ DTOs/                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ ChatRequest.cs
â”‚   â”œâ”€â”€ ChatResponse.cs
â”‚   â”œâ”€â”€ BookDto.cs
â”‚   â””â”€â”€ SearchRequest.cs
â”‚
â”œâ”€â”€ Services/                    # å¤ç”¨ç°æœ‰æœåŠ¡
â”‚   â”œâ”€â”€ DatabaseService.cs       # ä»ç°æœ‰é¡¹ç›®å¼•ç”¨
â”‚   â””â”€â”€ KernelService.cs         # å°è£…Semantic Kernel
â”‚
â”œâ”€â”€ Plugins/                     # å¤ç”¨ç°æœ‰æ’ä»¶
â”‚   â””â”€â”€ BookSearchPlugin.cs      # ä»ç°æœ‰é¡¹ç›®å¼•ç”¨
â”‚
â”œâ”€â”€ Program.cs                   # å¯åŠ¨é…ç½®
â””â”€â”€ appsettings.json             # é…ç½®æ–‡ä»¶
```

---

## ğŸ”Œ APIæ¥å£è®¾è®¡

### 1. èŠå¤©æ¥å£

#### POST `/api/chat/message`
å‘é€æ¶ˆæ¯å¹¶è·å–AIå›å¤

**è¯·æ±‚**ï¼š
```json
{
  "message": "å¸®æˆ‘æ‰¾ä¸€ä¸‹æœºå™¨å­¦ä¹ çš„ä¹¦",
  "conversationId": "uuid-123",
  "userId": "user-001"
}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "conversationId": "uuid-123",
  "response": {
    "content": "æˆ‘ä¸ºæ‚¨æ‰¾åˆ°äº†3æœ¬æœºå™¨å­¦ä¹ ç›¸å…³çš„å›¾ä¹¦...",
    "books": [
      {
        "bookId": 1,
        "title": "æœºå™¨å­¦ä¹ ",
        "author": "å‘¨å¿—å",
        "price": 88.00,
        "stock": 15,
        "coverUrl": "/images/ml.jpg"
      }
    ],
    "timestamp": "2025-11-01T22:15:00Z"
  }
}
```

---

### 2. å›¾ä¹¦æŸ¥è¯¢æ¥å£

#### GET `/api/books/search`
æœç´¢å›¾ä¹¦

**å‚æ•°**ï¼š
- `title`: æ ‡é¢˜å…³é”®è¯
- `author`: ä½œè€…
- `category`: åˆ†ç±»
- `page`: é¡µç 
- `pageSize`: æ¯é¡µæ•°é‡

**å“åº”**ï¼š
```json
{
  "success": true,
  "total": 50,
  "page": 1,
  "pageSize": 10,
  "books": [...]
}
```

#### GET `/api/books/{id}`
è·å–å›¾ä¹¦è¯¦æƒ…

**å“åº”**ï¼š
```json
{
  "success": true,
  "book": {
    "bookId": 1,
    "title": "æœºå™¨å­¦ä¹ ",
    "author": "å‘¨å¿—å",
    "publisher": "æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾",
    "publishDate": "2016-01-01",
    "isbn": "9787302423287",
    "category": "æœºå™¨å­¦ä¹ ",
    "price": 88.00,
    "stock": 15,
    "description": "æœ¬ä¹¦å…¨é¢ç³»ç»Ÿåœ°ä»‹ç»äº†æœºå™¨å­¦ä¹ çš„åŸºæœ¬ç†è®º...",
    "coverUrl": "/images/ml.jpg"
  }
}
```

---

### 3. æ¨èæ¥å£

#### GET `/api/books/recommend`
è·å–æ¨èå›¾ä¹¦

**å‚æ•°**ï¼š
- `category`: åˆ†ç±»ï¼ˆå¯é€‰ï¼‰
- `author`: ä½œè€…ï¼ˆå¯é€‰ï¼‰
- `count`: æ¨èæ•°é‡

**å“åº”**ï¼š
```json
{
  "success": true,
  "recommendationType": "category",
  "books": [...]
}
```

---

### 4. ç»Ÿè®¡æ¥å£

#### GET `/api/statistics/overview`
è·å–ç»Ÿè®¡æ¦‚è§ˆ

**å“åº”**ï¼š
```json
{
  "success": true,
  "statistics": {
    "totalBooks": 1000,
    "totalCategories": 20,
    "totalBorrows": 5000,
    "popularBooks": [...],
    "categoryDistribution": {
      "æœºå™¨å­¦ä¹ ": 150,
      "æ·±åº¦å­¦ä¹ ": 120,
      "Python": 200
    }
  }
}
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### åŠŸèƒ½1ï¼šæ™ºèƒ½å¯¹è¯

**éœ€æ±‚**ï¼š
- ç”¨æˆ·è¾“å…¥è‡ªç„¶è¯­è¨€é—®é¢˜
- AIå®æ—¶å›å¤
- æ”¯æŒå¤šè½®å¯¹è¯
- æ˜¾ç¤ºæ‰“å­—æ•ˆæœ

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨SignalRå®ç°å®æ—¶é€šä¿¡
- å‰ç«¯ä½¿ç”¨React Queryç®¡ç†çŠ¶æ€
- å®ç°æµå¼å“åº”ï¼ˆStreamingï¼‰

**ä»£ç ç¤ºä¾‹**ï¼š
```csharp
// Pages/Chat.razor
@page "/chat"
@inject IChatService ChatService
@inject ISnackbar Snackbar

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-4">
    <MudPaper Elevation="2" Class="pa-4">
        <MudText Typo="Typo.h4" Class="mb-4">ğŸ’¬ æ™ºèƒ½å¯¹è¯</MudText>
        
        <!-- æ¶ˆæ¯åˆ—è¡¨ -->
        <MudPaper Elevation="0" Class="chat-container" Style="height: 500px; overflow-y: auto;">
            @foreach (var message in messages)
            {
                <ChatMessage Message="@message" />
            }
            @if (isLoading)
            {
                <MudProgressCircular Indeterminate="true" />
            }
        </MudPaper>
        
        <!-- è¾“å…¥æ¡† -->
        <MudTextField @bind-Value="userInput" 
                      Label="è¾“å…¥æ‚¨çš„é—®é¢˜..." 
                      Variant="Variant.Outlined"
                      OnKeyPress="HandleKeyPress"
                      Disabled="@isLoading" />
        
        <MudButton Variant="Variant.Filled" 
                   Color="Color.Primary" 
                   OnClick="SendMessage"
                   Disabled="@isLoading"
                   Class="mt-2">
            å‘é€
        </MudButton>
    </MudPaper>
</MudContainer>

@code {
    private List<ChatMessageModel> messages = new();
    private string userInput = "";
    private bool isLoading = false;

    private async Task SendMessage()
    {
        if (string.IsNullOrWhiteSpace(userInput)) return;
        
        isLoading = true;
        
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        var userMessage = new ChatMessageModel
        {
            Role = "user",
            Content = userInput,
            Timestamp = DateTime.Now
        };
        messages.Add(userMessage);
        
        var currentInput = userInput;
        userInput = "";  // æ¸…ç©ºè¾“å…¥æ¡†
        
        try
        {
            // è°ƒç”¨API
            var response = await ChatService.SendMessageAsync(currentInput);
            
            // æ·»åŠ AIå“åº”
            var aiMessage = new ChatMessageModel
            {
                Role = "assistant",
                Content = response.Content,
                Books = response.Books,
                Timestamp = DateTime.Now
            };
            messages.Add(aiMessage);
        }
        catch (Exception ex)
        {
            Snackbar.Add($"å‘é€å¤±è´¥: {ex.Message}", Severity.Error);
        }
        finally
        {
            isLoading = false;
        }
    }
    
    private async Task HandleKeyPress(KeyboardEventArgs e)
    {
        if (e.Key == "Enter" && !e.ShiftKey)
        {
            await SendMessage();
        }
    }
}
```

---

### åŠŸèƒ½2ï¼šå›¾ä¹¦å¡ç‰‡å±•ç¤º

**éœ€æ±‚**ï¼š
- ç¾è§‚çš„å›¾ä¹¦å¡ç‰‡
- æ˜¾ç¤ºå°é¢ã€æ ‡é¢˜ã€ä½œè€…ã€ä»·æ ¼ã€åº“å­˜
- æ”¯æŒå¿«é€Ÿæ“ä½œï¼ˆæŸ¥çœ‹è¯¦æƒ…ã€æ”¶è—ï¼‰

**ç»„ä»¶è®¾è®¡**ï¼š
```csharp
// Shared/BookCard.razor
@inject NavigationManager Navigation

<MudCard Elevation="2" Class="book-card">
    <MudCardMedia Image="@(Book.CoverUrl ?? "/images/placeholder.png")" 
                  Height="200" />
    <MudCardContent>
        <MudText Typo="Typo.h6">@Book.Title</MudText>
        <MudText Typo="Typo.body2" Color="Color.Secondary">
            @Book.Author
        </MudText>
        
        <MudDivider Class="my-2" />
        
        <div class="d-flex justify-space-between align-center">
            <MudText Typo="Typo.h6" Color="Color.Primary">
                Â¥@Book.Price.ToString("F2")
            </MudText>
            <MudChip Color="@(Book.Stock > 0 ? Color.Success : Color.Error)" 
                     Size="Size.Small">
                @(Book.Stock > 0 ? $"åº“å­˜: {Book.Stock}" : "ç¼ºè´§")
            </MudChip>
        </div>
    </MudCardContent>
    
    <MudCardActions>
        <MudButton Variant="Variant.Filled" 
                   Color="Color.Primary" 
                   OnClick="ViewDetails">
            æŸ¥çœ‹è¯¦æƒ…
        </MudButton>
        <MudIconButton Icon="@Icons.Material.Filled.Favorite" 
                       Color="Color.Secondary"
                       OnClick="AddToFavorites" />
    </MudCardActions>
</MudCard>

@code {
    [Parameter]
    public Book Book { get; set; } = null!;
    
    [Parameter]
    public EventCallback<int> OnViewDetails { get; set; }
    
    [Parameter]
    public EventCallback<int> OnAddToFavorites { get; set; }
    
    private void ViewDetails()
    {
        Navigation.NavigateTo($"/book/{Book.BookId}");
    }
    
    private async Task AddToFavorites()
    {
        await OnAddToFavorites.InvokeAsync(Book.BookId);
    }
}
```

---

### åŠŸèƒ½3ï¼šé«˜çº§æœç´¢

**éœ€æ±‚**ï¼š
- å¤šæ¡ä»¶ç­›é€‰ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€åˆ†ç±»ã€ä»·æ ¼åŒºé—´ï¼‰
- å®æ—¶æœç´¢å»ºè®®
- æœç´¢å†å²
- åˆ†é¡µåŠ è½½

**å®ç°æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨é˜²æŠ–ä¼˜åŒ–æœç´¢æ€§èƒ½
- æœ¬åœ°ç¼“å­˜æœç´¢å†å²
- è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–å¤§åˆ—è¡¨

---

### åŠŸèƒ½4ï¼šæ•°æ®å¯è§†åŒ–

**éœ€æ±‚**ï¼š
- å›¾ä¹¦åˆ†ç±»åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰
- å€Ÿé˜…è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰
- çƒ­é—¨å›¾ä¹¦æ’è¡Œï¼ˆæŸ±çŠ¶å›¾ï¼‰

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨Rechartsæˆ–Chart.js
- å“åº”å¼å›¾è¡¨è®¾è®¡

---

## ğŸ“… å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„ï¼ˆ1-2å¤©ï¼‰

- [x] åˆ›å»ºReacté¡¹ç›®
- [ ] é…ç½®TailwindCSSå’Œshadcn/ui
- [ ] åˆ›å»ºASP.NET Core Web APIé¡¹ç›®
- [ ] é…ç½®CORSå’ŒSwagger
- [ ] å®ç°åŸºç¡€APIæ¥å£

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ2-3å¤©ï¼‰

- [ ] å®ç°èŠå¤©ç•Œé¢
- [ ] é›†æˆSemantic Kernel
- [ ] å®ç°å›¾ä¹¦æœç´¢åŠŸèƒ½
- [ ] å®ç°å›¾ä¹¦è¯¦æƒ…é¡µé¢
- [ ] å®ç°æ¨èåŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼šä¼˜åŒ–å®Œå–„ï¼ˆ1-2å¤©ï¼‰

- [ ] å®ç°æš—è‰²ä¸»é¢˜
- [ ] æ·»åŠ åŠ è½½åŠ¨ç”»
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
- [ ] æ·»åŠ é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½ä¼˜åŒ–

### ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•éƒ¨ç½²ï¼ˆ1å¤©ï¼‰

- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] éƒ¨ç½²åˆ°æœåŠ¡å™¨
- [ ] æ–‡æ¡£ç¼–å†™

**æ€»è®¡ï¼š5-8å¤©**

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Blazorå‰ç«¯å¯åŠ¨

```bash
# è¿›å…¥Blazoré¡¹ç›®ç›®å½•
cd BookSearchSystem.Blazor

# è¿˜åŸNuGetåŒ…
dotnet restore

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
dotnet run

# æˆ–ä½¿ç”¨watchæ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
dotnet watch run

# è®¿é—® http://localhost:5000
```

### åç«¯APIå¯åŠ¨

```bash
# è¿›å…¥APIç›®å½•
cd BookSearchSystem.WebAPI

# è¿˜åŸä¾èµ–
dotnet restore

# å¯åŠ¨APIæœåŠ¡å™¨
dotnet run

# è®¿é—® http://localhost:5001
# Swaggeræ–‡æ¡£: http://localhost:5001/swagger
```

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºå¯åŠ¨è„šæœ¬ start-all.bat
@echo off
start cmd /k "cd BookSearchSystem.WebAPI && dotnet run"
timeout /t 3
start cmd /k "cd BookSearchSystem.Blazor && dotnet watch run"
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

- ä½¿ç”¨C#ç¼–ç è§„èŒƒï¼ˆéµå¾ªå¾®è½¯å®˜æ–¹æŒ‡å—ï¼‰
- ç»„ä»¶ä½¿ç”¨.razoræ–‡ä»¶
- ä½¿ç”¨async/awaitå¤„ç†å¼‚æ­¥æ“ä½œ
- éµå¾ªBlazoræœ€ä½³å®è·µ
- ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰

### Gitæäº¤è§„èŒƒ

```
feat: æ·»åŠ èŠå¤©åŠŸèƒ½
fix: ä¿®å¤æœç´¢bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼åŒ–
refactor: é‡æ„ç»„ä»¶
test: æ·»åŠ æµ‹è¯•
chore: æ›´æ–°ä¾èµ–
```

### å‘½åè§„èŒƒ

- ç»„ä»¶: PascalCase (ChatMessage.razor)
- æ–¹æ³•: PascalCase (SendMessage)
- ç§æœ‰å­—æ®µ: camelCase with _ (_chatService)
- å¸¸é‡: PascalCase (ApiBaseUrl)
- å‚æ•°: camelCase (bookId)

---

## ğŸ¨ UIç»„ä»¶æ¸…å•

### MudBlazorç»„ä»¶

- [ ] MudButton
- [ ] MudCard
- [ ] MudTextField
- [ ] MudChip
- [ ] MudAvatar
- [ ] MudDialog
- [ ] MudMenu
- [ ] MudTabs
- [ ] MudSnackbar
- [ ] MudSkeleton
- [ ] MudProgressCircular
- [ ] MudDivider
- [ ] MudPaper
- [ ] MudAppBar
- [ ] MudDrawer
- [ ] MudGrid

### è‡ªå®šä¹‰Razorç»„ä»¶

- [ ] ChatMessage.razor
- [ ] ChatInput.razor
- [ ] BookCard.razor
- [ ] BookList.razor
- [ ] SearchBar.razor
- [ ] ThemeToggle.razor
- [ ] LoadingSpinner.razor

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### ç›®æ ‡

- é¦–å±åŠ è½½æ—¶é—´ < 2ç§’
- æ¶ˆæ¯å“åº”æ—¶é—´ < 1ç§’
- Lighthouseè¯„åˆ† > 90åˆ†
- æ”¯æŒ1000+å›¾ä¹¦æµç•…å±•ç¤º

### ä¼˜åŒ–ç­–ç•¥

- ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰
- æ‡’åŠ è½½ï¼ˆLazy Loadingï¼‰
- å›¾ç‰‡ä¼˜åŒ–ï¼ˆWebPæ ¼å¼ï¼‰
- ç¼“å­˜ç­–ç•¥ï¼ˆReact Queryï¼‰
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆVirtual Scrollingï¼‰

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

- HTTPSåŠ å¯†ä¼ è¾“
- APIæ¥å£é‰´æƒ
- XSSé˜²æŠ¤
- CSRFé˜²æŠ¤
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆå·²å®ç°ï¼‰
- æ•æ„Ÿä¿¡æ¯è„±æ•

---

## ğŸŒŸ Blazoræ–¹æ¡ˆçš„ä¼˜åŠ¿

### âœ… ä¸ºä»€ä¹ˆé€‰æ‹©Blazorï¼Ÿ

1. **å…¨æ ˆC#å¼€å‘**
   - å‰åç«¯ä½¿ç”¨åŒä¸€ç§è¯­è¨€
   - å¯ä»¥å…±äº«Modelsã€DTOsã€å·¥å…·ç±»
   - ä¸éœ€è¦å­¦ä¹ JavaScript/TypeScript
   - å›¢é˜ŸæŠ€èƒ½æ ˆç»Ÿä¸€

2. **å¼ºç±»å‹æ”¯æŒ**
   - ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
   - IntelliSenseæ™ºèƒ½æç¤º
   - é‡æ„æ›´å®‰å…¨
   - å‡å°‘è¿è¡Œæ—¶é”™è¯¯

3. **ä»£ç å¤ç”¨**
   - å¯ä»¥ç›´æ¥å¤ç”¨ç°æœ‰çš„C#ä»£ç 
   - Servicesã€Modelså¯ä»¥å…±äº«
   - ä¸šåŠ¡é€»è¾‘å¯ä»¥åœ¨å‰åç«¯å¤ç”¨

4. **æ€§èƒ½ä¼˜ç§€**
   - WebAssemblyæ¥è¿‘åŸç”Ÿæ€§èƒ½
   - æ¯”JavaScriptæ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦
   - æ”¯æŒå¤šçº¿ç¨‹ï¼ˆæœªæ¥ï¼‰

5. **ç”Ÿæ€ä¸°å¯Œ**
   - NuGetåŒ…ç”Ÿæ€
   - MudBlazorç­‰ä¼˜ç§€UIåº“
   - å¾®è½¯å®˜æ–¹æ”¯æŒ
   - ç¤¾åŒºæ´»è·ƒ

6. **å¼€å‘ä½“éªŒ**
   - çƒ­é‡è½½ï¼ˆHot Reloadï¼‰
   - Visual Studioå®Œç¾æ”¯æŒ
   - è°ƒè¯•ä½“éªŒä¼˜ç§€
   - ç»„ä»¶åŒ–å¼€å‘

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Blazorå®˜æ–¹æ–‡æ¡£](https://learn.microsoft.com/aspnet/core/blazor/)
- [MudBlazoræ–‡æ¡£](https://mudblazor.com/)
- [ASP.NET Coreæ–‡æ¡£](https://learn.microsoft.com/aspnet/core/)
- [Semantic Kernelæ–‡æ¡£](https://learn.microsoft.com/semantic-kernel/)
- [C#ç¼–ç¨‹æŒ‡å—](https://learn.microsoft.com/dotnet/csharp/)

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§

- âœ… ç”¨æˆ·å¯ä»¥é€šè¿‡å¯¹è¯æŸ¥è¯¢å›¾ä¹¦
- âœ… ç³»ç»Ÿèƒ½æ­£ç¡®ç†è§£ç”¨æˆ·æ„å›¾
- âœ… å›¾ä¹¦ä¿¡æ¯å±•ç¤ºå®Œæ•´å‡†ç¡®
- âœ… æœç´¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… æ¨èåŠŸèƒ½æœ‰æ•ˆ

### ç”¨æˆ·ä½“éªŒ

- âœ… ç•Œé¢ç¾è§‚ç°ä»£
- âœ… æ“ä½œæµç•…æ— å¡é¡¿
- âœ… ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- âœ… åŠ è½½çŠ¶æ€æ¸…æ™°
- âœ… é”™è¯¯æç¤ºå‹å¥½

### æŠ€æœ¯è´¨é‡

- âœ… ä»£ç ç»“æ„æ¸…æ™°
- âœ… ç±»å‹å®šä¹‰å®Œæ•´
- âœ… æ— æ˜æ˜¾bug
- âœ… æ€§èƒ½è¾¾æ ‡
- âœ… æ–‡æ¡£å®Œå–„

---

**å‡†å¤‡å¥½å¼€å§‹å¼€å‘äº†å—ï¼Ÿè®©æˆ‘ä»¬æ‰“é€ ä¸€ä¸ªç°ä»£åŒ–çš„å›¾ä¹¦æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿï¼** ğŸš€
